{"version":3,"file":"crostini.umd.js","sources":["../index.js"],"sourcesContent":["// setup\nvar isCrostiniActivated = false;\nvar crostiniStyles = `\n<style class=\"crostini-styles\">\n.crostini, .crostini * {\n  box-sizing: border-box;\n}\n\n.crostini {\n  position: fixed;\n  z-index: 10000;\n  left: 0;\n  right:0;\n  bottom: 30px;\n  visibility: hidden;\n  display: flex;\n  height: 50px;\n  margin: auto;\n  max-width: 50px;\n  background-color: #222;\n  color: #fff;\n  text-align: center;\n  border-radius: 2px;\n  font-size: 18px;\n  font-weight: 500;\n  white-space: nowrap;\n  line-height: 1;\n}\n\n.crostini--top {\n  top: 30px;\n  bottom: auto;\n}\n\n.crostini.crostini--show.crostini--top {\n  visibility: visible;\n  animation: crostiniFadeinTop 0.5s, crostiniExpand 0.5s 0.5s, crostiniStay 5s 1s, crostiniShrink 0.5s 6s, crostiniFadeoutBottom 0.5s 6.5s;\n}\n\n.crostini .crostini__close-icon {\n  position: relative;\n  width: 50px;\n  height: 100%;\n  margin-left: auto;\n  cursor: pointer;\n  border-left: 1px solid rgba(255,255,255,.18);\n  animation: crostiniSimpleFadein 1s, crostiniSimpleFadeout 1.5s 5.5s;\n}\n\n.crostini .crostini__close-icon:hover {\n  background-color: rgba(255,255,255,.15);\n}\n\n.crostini .crostini__close-icon:before {\n  position: absolute;\n  content: '';\n  top: 50%;\n  left: 50%;\n  width: 26px;\n  height: 2px;\n  margin: -1px 0 0 -13px;\n  transform: rotate(-45deg);\n  background-color: rgba(255,255,255,.85);\n}\n\n.crostini .crostini__close-icon:after {\n  position: absolute;\n  content: '';\n  top: 50%;\n  left: 50%;\n  width: 26px;\n  height: 2px;\n  margin: -1px 0 0 -13px;\n  transform: rotate(45deg);\n  background-color: rgba(255,255,255,.85);\n}\n\n.crostini .crostini__close-icon:hover:before, .crostini .crostini__close-icon:hover:after {\n  background-color: #fff;\n}\n\n.crostini .crostini__desc {\n  display: flex;\n  align-items: center;\n  max-width: calc(100% - 50px);\n  overflow: hidden;\n  white-space: nowrap;\n  padding: 0px 16px;\n  animation: crostiniSimpleFadein 1s;\n}\n\n.crostini .crostini__desc-inner {\n  position: relative;\n  top: -1px;\n}\n\n.crostini.crostini--show {\n  visibility: visible;\n  animation: crostiniFadein 0.5s, crostiniExpand 0.5s 0.5s, crostiniStay 5s 1s, crostiniShrink 0.5s 6s, crostiniFadeout 0.5s 6.5s;\n}\n\n/* ERROR STYLES */\n\n.crostini.crostini--error {\n  background-color: #c41f33;\n}\n\n.crostini.crostini--error .crostini__close-icon:hover:before, .crostini.crostini--error .crostini__close-icon:hover:after {\n  opacity: 1;\n}\n\n@keyframes crostiniSimpleFadein {\n  0% {opacity: 0;}\n  90% {opacity: 0;}\n  100% {opacity: 1;}\n}\n\n@keyframes crostiniSimpleFadeout {\n  0% {opacity: 1;}\n  70% {opacity: 0;}\n  100% {opacity: 0;}\n}\n\n@keyframes crostiniFadein {\n  from {bottom: 0; opacity: 0;}\n  to {bottom: 30px; opacity: 1;}\n}\n\n@keyframes crostiniFadeinTop {\n  from {top: 0; opacity: 0;}\n  to {top: 30px; opacity: 1;}\n}\n\n@keyframes crostiniExpand {\n  from {min-width: 50px}\n  to {min-width: 360px}\n}\n\n@keyframes crostiniStay {\n  from {min-width: 360px}\n  to {min-width: 360px}\n}\n\n@keyframes crostiniShrink {\n  from {min-width: 360px;} \n  to {min-width: 50px;}\n}\n\n@keyframes crostiniFadeout {\n  from {bottom: 30px; opacity: 1;}\n  to {bottom: 60px; opacity: 0;}\n}\n\n@keyframes crostiniFadeoutBottom {\n  from {top: 30px; opacity: 1;}\n  to {top: 60px; opacity: 0;}\n}\n</style>\n`;\n\nif (!document.querySelector(\".crostini-styles\")) {\n  document.body.insertAdjacentHTML(\"beforeend\", crostiniStyles);\n}\n\n// main function:\n// pop up a toast notification\nfunction crostini (msg, options) {\n  // don't allow more than one toast notification at the same time\n  if (isCrostiniActivated) {\n    return;\n  }\n\n  isCrostiniActivated = true;\n\n  var crostiniHtml = `<div class=\"crostini crostini--show\"><div class=\"crostini__desc\"><div class=\"crostini__desc-inner\">${msg}</div></div><div class=\"crostini__close-icon\"></div></div>`;\n  var tempElem = document.createElement('div');\n  tempElem.innerHTML = crostiniHtml;\n  var crostiniElem = tempElem.firstChild;\n\n  if (options) {\n    if (options.type === \"error\") {\n      crostiniElem.classList.add(\"crostini--error\");\n    }\n\n    if (options.slideInFromTop) {\n      crostiniElem.classList.add(\"crostini--top\");\n    }\n\n    if (options.backgroundColor) {\n      crostiniElem.style.backgroundColor = options.backgroundColor;\n    }\n\n    if (options.textColor) {\n      crostiniElem.style.color = options.textColor;\n    }\n\n    if (options.customCss) {\n      var stylesString = crostiniElem.getAttribute(\"style\") || \"\";\n      crostiniElem.setAttribute(\"style\", stylesString + options.customCss);\n    }\n  }\n\n  crostiniElem.addEventListener(\"animationend\", onAnimationEnd);\n  document.body.appendChild(crostiniElem);\n}\n\n// crostini close button event listener\ndocument.body.addEventListener(\"click\", function (event) {\n  if (event.target.closest(\".crostini__close-icon\")) {\n    removeCrostiniElement();\n  }\n});\n\n// HELPERS\n\nfunction removeCrostiniElement () {\n  var crostiniElem = document.querySelector(\".crostini\");\n\n  if (crostiniElem) {\n    crostiniElem.parentElement.removeChild(crostiniElem);\n    crostiniElem.removeEventListener(\"animationend\", onAnimationEnd);\n  }\n\n  isCrostiniActivated = false;\n}\n\nfunction onAnimationEnd (event) {\n  if (event.animationName === \"crostiniFadeout\" || event.animationName === \"crostiniFadeoutBottom\") {\n    removeCrostiniElement();\n  }\n}\n\nexport default crostini;\n\n"],"names":["isCrostiniActivated","removeCrostiniElement","crostiniElem","document","querySelector","parentElement","removeChild","removeEventListener","onAnimationEnd","event","animationName","body","insertAdjacentHTML","addEventListener","target","closest","msg","options","crostiniHtml","tempElem","createElement","innerHTML","firstChild","type","classList","add","slideInFromTop","backgroundColor","style","textColor","color","customCss","stylesString","getAttribute","setAttribute","appendChild"],"mappings":"2NACA,IAAIA,GAAsB,EAsN1B,SAASC,IACP,IAAIC,EAAeC,SAASC,cAAc,aAEtCF,IACFA,EAAaG,cAAcC,YAAYJ,GACvCA,EAAaK,oBAAoB,eAAgBC,IAGnDR,GAAsB,EAGxB,SAASQ,EAAgBC,GACK,oBAAxBA,EAAMC,eAA+D,0BAAxBD,EAAMC,eACrDT,WApECE,SAASC,cAAc,qBAC1BD,SAASQ,KAAKC,mBAAmB,YA/JjB,wtGA6MlBT,SAASQ,KAAKE,iBAAiB,QAAS,SAAUJ,GAC5CA,EAAMK,OAAOC,QAAQ,0BACvBd,MA3CJ,SAAmBe,EAAKC,GAEtB,IAAIjB,EAAJ,CAIAA,GAAsB,EAEtB,IAAIkB,EAAqHF,sGAAAA,EAAzH,6DACIG,EAAWhB,SAASiB,cAAc,OACtCD,EAASE,UAAYH,EACrB,IAAIhB,EAAeiB,EAASG,WAE5B,GAAIL,IACmB,UAAjBA,EAAQM,MACVrB,EAAasB,UAAUC,IAAI,mBAGzBR,EAAQS,gBACVxB,EAAasB,UAAUC,IAAI,iBAGzBR,EAAQU,kBACVzB,EAAa0B,MAAMD,gBAAkBV,EAAQU,iBAG3CV,EAAQY,YACV3B,EAAa0B,MAAME,MAAQb,EAAQY,WAGjCZ,EAAQc,WAAW,CACrB,IAAIC,EAAe9B,EAAa+B,aAAa,UAAY,GACzD/B,EAAagC,aAAa,QAASF,EAAef,EAAQc,WAI9D7B,EAAaW,iBAAiB,eAAgBL,GAC9CL,SAASQ,KAAKwB,YAAYjC"}